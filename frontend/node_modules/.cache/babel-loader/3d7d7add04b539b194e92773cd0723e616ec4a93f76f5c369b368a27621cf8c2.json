{"ast":null,"code":"var _jsxFileName = \"/Users/kaarthi/Documents/SJSU/Fall_2024/CS157A/Database-Application/my-app/src/pages/Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Profile() {\n  _s();\n  const [reservations, setReservations] = useState([]);\n  const [user, setUser] = useState(null); // To hold user details (if needed)\n\n  // Fetch user profile and reservations when the component mounts\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        // Assume there's an API endpoint that fetches the current user's profile\n        const userResponse = await axios.get('/api/user');\n        setUser(userResponse.data);\n\n        // Fetch reservations for the logged-in user\n        const reservationsResponse = await axios.get('/api/reservations');\n        setReservations(reservationsResponse.data);\n      } catch (error) {\n        console.error('Error fetching profile data', error);\n      }\n    };\n    fetchProfile();\n  }, []);\n\n  // Handle reservation cancellation\n  const cancelReservation = async reservationId => {\n    try {\n      await axios.delete(`/api/reservations/${reservationId}`);\n      setReservations(reservations.filter(reservation => reservation.id !== reservationId));\n      alert('Reservation cancelled');\n    } catch (error) {\n      console.error('Error cancelling reservation', error);\n    }\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Not Logged In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"center-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Welcome, \", user.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Your Reservations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), reservations.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: reservations.map(reservation => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Restaurant:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), \" \", reservation.restaurantName, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 75\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), \" \", reservation.date, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 59\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), \" \", reservation.time, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 59\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Party Size:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), \" \", reservation.partySize, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 70\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => cancelReservation(reservation.id),\n            children: \"Cancel Reservation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this)\n      }, reservation.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You don't have any reservations yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"xJgfPbAVVBbuxEdaUHGx+t2dLXc=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Profile","_s","reservations","setReservations","user","setUser","fetchProfile","userResponse","get","data","reservationsResponse","error","console","cancelReservation","reservationId","delete","filter","reservation","id","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","name","length","map","restaurantName","date","time","partySize","onClick","_c","$RefreshReg$"],"sources":["/Users/kaarthi/Documents/SJSU/Fall_2024/CS157A/Database-Application/my-app/src/pages/Profile.jsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction Profile() {\n  const [reservations, setReservations] = useState([]);\n  const [user, setUser] = useState(null); // To hold user details (if needed)\n\n  // Fetch user profile and reservations when the component mounts\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        // Assume there's an API endpoint that fetches the current user's profile\n        const userResponse = await axios.get('/api/user');\n        setUser(userResponse.data);\n\n        // Fetch reservations for the logged-in user\n        const reservationsResponse = await axios.get('/api/reservations');\n        setReservations(reservationsResponse.data);\n      } catch (error) {\n        console.error('Error fetching profile data', error);\n      }\n    };\n    fetchProfile();\n  }, []);\n\n  // Handle reservation cancellation\n  const cancelReservation = async (reservationId) => {\n    try {\n      await axios.delete(`/api/reservations/${reservationId}`);\n      setReservations(reservations.filter(reservation => reservation.id !== reservationId));\n      alert('Reservation cancelled');\n    } catch (error) {\n      console.error('Error cancelling reservation', error);\n    }\n  };\n\n  if (!user) {\n    return <div>Not Logged In</div>;\n  }\n\n  return (\n    <div className=\"center-container\">\n      <h2>Profile</h2>\n      <p>Welcome, {user.name}</p>\n      <h3>Your Reservations</h3>\n\n      {reservations.length > 0 ? (\n        <ul>\n          {reservations.map((reservation) => (\n            <li key={reservation.id}>\n              <p>\n                <strong>Restaurant:</strong> {reservation.restaurantName} <br />\n                <strong>Date:</strong> {reservation.date} <br />\n                <strong>Time:</strong> {reservation.time} <br />\n                <strong>Party Size:</strong> {reservation.partySize} <br />\n                <button onClick={() => cancelReservation(reservation.id)}>Cancel Reservation</button>\n              </p>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>You don't have any reservations yet.</p>\n      )}\n    </div>\n  );\n}\n\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}